# Persist the DB

각 컨테이너는 이미지에서 시작된다.<br/>
이는 컨테이너가 제거되면 컨테이너 실행 이후의 변경사항은 모두 사라진 다는 것을 의미한다.<br/>
즉, 컨테이너는 파일을 생성, 업데이트 및 삭제할 수 있지만, 컨테이너를 제거하면 해당 변경 사항이 손실되고 Docker는 해당 컨테이너에 대한 모든 변경 사항을 격리한다.<br/>
<br/>
따라서 컨테이너 내부에서 변경된 사항을 이후 모든 컨테이너에서 동기화 하려면 Docker의 볼륨 명령어를 사용해야 한다.

## docker -v

volume의 약자이다.<br/>
호스트 PC에 있는 특정 폴더를 컨테이너 안으로 넣는 명령어이다.
컨테이너가 종료되더라도 변경된 파일을 유지하기 위해 사용한다.<br/>
(For HMR)<br/>
<br/>

볼륨은 `컨테이너의 특정 파일 시스템 경로`를 호스트 시스템 연결한다. <br/>
컨테이너에 폴더를 탑재하면 해당 디렉터리의 변경 사항이 호스트 시스템에도 동기화된다.<br/>
(컨테이너를 다시 시작할 때 동일한 디렉터리를 마운트하면 변경 사항이 적용된 파일이 마운트 된다)<br/>
<br/>

- docker system df
  저장매체 현황을 확인하는 명령어이다.<br/>
  (액티브 이미지 수, 액티브 컨테이너 수)

<br/>

# Genie's Action Items

## 심볼릭 링크

리눅스에서 심볼릭 링크(Symbolic Link)는 파일 또는 폴더에 대한 참조를 나타내는 특별한 종류의 파일이다.<br/>
이것은 다른 파일이나 폴더를 가리킨다.<br/>
주로 파일 시스템 내에서 파일 또는 폴더의 위치를 가리킬 때 사용되며, 다른 경로에서 동일한 파일에 대한 참조를 만들 수 있다.

## 숨고 Dockerfile 실행환경 개선

### 이미지 경량화

<img width="758" alt="스크린샷 2023-11-12 오후 8 45 54" src="https://github.com/wonjin-dev/wikis/assets/82315118/35c07f18-c1d8-41cb-b91d-7a4a52df3ea9" />

<br/>

### slim vs alpine

#### slim 이미지

이미지에서 사용하지 않는 패키지를 제거하여 이미지 크기를 줄인 이미지. 기본적으로 이미지는 최신 버전의 리눅스 커널과 다양한 패키지를 포함하고 있지만 슬림 이미지는 이러한 패키지 중에서 실행에 필요한 최소한의 패키지만 포함하여 크기를 줄인 이미지.

#### alpine 이미지

슬림 이미지보다 더 작은 이미지. 알파인 이미지는 리눅스 커널, 비지박스 등 기본적인 도구만 포함하고 있어 이미지 크기가 매우 작다.

#### 어떤 이미지를 사용할까?

두 이미지 모두 크기를 줄이기 위해 사용되는 이미지.
모든 패키지가 필요하지 않은 경우는 슬림 이미지를 사용하는 것이 좋다. 이미지 크기 자체를 최소화해야 하는 경우는 Alpine 이미지를 사용하는 것이 좋다.
