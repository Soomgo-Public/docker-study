# Multi container apps

앱을 단일 컨테이너로 실행하는 것이 아니라 여러 컨테이너로 구성하여 실행할 수 있다.<br/>
(예를들면 웹 서버와 데이터베이스 컨테이너를 별도로 실행할 수 있다)

## Why?

<strong>일반적으로 각 컨테이너는 하나의 작업만 수행해야 한다.</strong><br/><br/>
왜냐면 각기 다른 성격의 컨테이너는 다르게 확장해야 할 가능성이 높기 때문이다. 때문에 별도의 컨테이너를 통해 각각 격리하여 업데이트하고 버전을 관리할 수 있다.<br/><br/>
위의 예시를 가져오면 "앱을 데이터베이스와 다르게 확장해야 할 가능성이 높다"라고 표현할수 있다.<br/><br/>
데이터베이스를 로컬 컨테이너로 사용할 수 있지만, 프로덕션에서는 외부의 데이터베이스에 관리 서비스를 사용할 확률이 높다.<br/> 즉, 데이터베이스를 앱과 동일한 컨테이너에서 함께 제공하지 않기 때문에, 여러 프로세스를 실행하려면 프로세스 관리자가 필요하게 된다.<br/><Br/>
이로 인해 컨테이너가 복잡해진다<br/>(기본적으로 컨테이너는 프로세스를 하나만 시작함)

## How?

**_컨테이너 네트워킹을 통해 여러개의 컨테이너를 하나의 앱에서 실행할 수 있다._**

### 컨테이너 네트워킹

컨테이너 네트워킹은 컨테이너가 서로 통신하고 외부 리소스와 통신할 수 있는 기능을 의미한다.<br/>
기본적으로 컨테이너는 격리되어 실행되기에 다른 프로세스에 대해 알지 못 한다. 때문에 여러 개의 컨테이너가 동일한 앱에서 실행되려면 컨테이너가 서로 통신할 수 있도록 하려면 동일한 네트워크에 배치해야 한다.<br/>

- 컨테이너를 시작할 때 네트워크를 할당
- 이미 실행 중인 컨테이너를 네트워크에 연결

1. `docker network create {network-name}`를 통해 네트워크를 생성
2. 컨테이너를 실행하면서 `docker run -d --network {network-name}`를 통해 생성한 네트워크에 컨테이너를 연결
